# 인증(Authentication) 기능 구현

## 개요
이 문서는 선물 펀딩 웹 애플리케이션에서 구현된 사용자 인증 기능에 대한 설명입니다. 회원가입 및 로그인 기능, 로그인 상태 관리, 로그아웃 기능 등이 포함되어 있습니다.

## 주요 구성 요소

### 1. 백엔드 API
- **API 엔드포인트**:
  - 회원가입: `POST /api/auth/register`
  - 로그인: `POST /api/auth/login`

- **응답 형식**:
  - 회원가입 응답: `ApiResponse` 객체 (success, message, data 필드 포함)
  - 로그인 응답: `LoginResponse` 객체 (id, name, email, token 필드 포함)

### 2. 프론트엔드 구현

#### 2.1 로그인 상태 관리
- **로컬 스토리지 활용**:
  - 토큰 저장: `localStorage.setItem('token', token)`
  - 사용자 정보 저장: `localStorage.setItem('user', JSON.stringify(userData))`
  - 로그아웃 시 삭제: `localStorage.removeItem('token')`, `localStorage.removeItem('user')`

- **React 상태 관리**:
  - `useState`와 `useEffect` 훅을 사용하여 로그인 상태 관리
  - 컴포넌트 마운트 시 로컬 스토리지에서 사용자 정보 불러오기

#### 2.2 로그인 페이지 (Login.js)
- 이메일과 비밀번호 입력 폼 제공
- 로그인 API 호출 및 응답 처리
- 로그인 성공 시 사용자 정보 저장 및 홈 페이지로 리다이렉트
- 로그인 실패 시 오류 메시지 표시

#### 2.3 헤더 컴포넌트 (Header.js)
- 로그인 상태에 따른 조건부 렌더링
- 로그인한 경우 사용자 이름 표시 및 로그아웃 버튼 제공
- 로그아웃 기능 구현

#### 2.4 홈 페이지 (Home.js)
- 로그인한 사용자를 위한 개인화된 환영 메시지 표시

## 인증 흐름

1. **회원가입**:
   - 사용자가 회원가입 양식 작성 및 제출
   - 서버에서 이메일 중복 확인 및 비밀번호 암호화
   - 회원가입 성공 시 로그인 페이지로 이동

2. **로그인**:
   - 사용자가 이메일과 비밀번호 입력
   - 서버에서 인증 확인 및 JWT 토큰 발급
   - 토큰과 사용자 정보를 로컬 스토리지에 저장
   - 홈 페이지로 리다이렉트

3. **인증 상태 유지**:
   - 페이지 로드 시 로컬 스토리지에서 토큰 확인
   - 토큰이 있으면 사용자 정보 로드 및 로그인 상태 유지

4. **로그아웃**:
   - 로그아웃 버튼 클릭 시 로컬 스토리지에서 인증 정보 삭제
   - UI 업데이트 및 홈 페이지로 리다이렉트

## 보안 고려사항

1. **토큰 관리**:
   - JWT 토큰은 로컬 스토리지에 저장
   - 토큰 만료 시간 설정 (86400000ms = 24시간)

2. **비밀번호 보안**:
   - 백엔드에서 PasswordEncoder를 사용하여 비밀번호 암호화

3. **API 보안**:
   - CORS 설정을 통해 허용된 도메인에서만 API 접근 가능
   - Spring Security를 통한 인증 및 권한 관리

## 향후 개선 사항

1. **소셜 로그인 추가**: 구글, 페이스북 등 소셜 로그인 옵션 제공
2. **토큰 갱신 메커니즘**: 토큰 만료 시 자동 갱신 기능 구현
3. **프로필 관리**: 사용자 프로필 조회 및 수정 기능 추가
4. **인증 상태 전역 관리**: Context API 또는 Redux를 사용한 인증 상태 전역 관리 